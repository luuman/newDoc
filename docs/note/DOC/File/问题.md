# 问题
## 去主进程同步查询本地deviceId

```
let deviceId = getStore('storage.deviceId');

console.log('deviceId00', deviceId)

if(!deviceId){
  deviceId = uuidv4()
}

console.log('deviceId11', deviceId)

setStore('storage.deviceId', deviceId);

ipcMain.on('UUID_REQUEST', (event) => {
  event.returnValue = deviceId;
});
```

```
// 本地存储相关函数与初始化
const schema = {
  preferences: {
    type: 'object',
    properties: {
      debug: { type: 'boolean' },
    }
  },
  storage: {
    type: 'object',
    properties: {
      platform: { type: 'string' },
      // deviceId: { type: 'string' },
    }
  },
};

const defaults = {
  // 主进程数据
  preferences: {
    debug: false,
  },
  // 渲染进程同步 vuex 数据
  storage: {
    platform: process.platform,
    lang: 'en-US',
    skipUpdateVersion: '',
    skipUpdateTime: '',
    c_name: '',
    joinModalName: '',
    callfeedbacks: [], // Call quality feedback record
    win32SystemInfo: null, // Windows system models and other information
    userData: {},
    syncDesktopUsers: '', // Used by the SyncCalendar.js file
    callLogReports: {},
  },
  // language:{},
};
console.log('=========', Store)
let aStore = new Store({
    name: 'storage',
    schema,
    defaults,
    // encryptionKey:'String' //二进制存储
  })
console.log('=========', aStore.get('storage.deviceId'))
const { ipcRenderer } = require("electron");
```

## toLogin优化传参制定调用方法
UserLogin